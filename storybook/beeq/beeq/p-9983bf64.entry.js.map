{"version":3,"names":["bqSwitchCss","BqSwitchStyle0","BqSwitch","labelElem","inputElem","prevCheckedValue","internals","hasLabel","backgroundOnHover","checked","disabled","formValidationMessage","fullWidth","innerLabel","justifyContent","name","required","reverseOrder","value","handleRequiredChange","this","updateFormValidity","bqChange","bqFocus","bqBlur","componentWillLoad","componentDidLoad","handleSlotChange","componentDidUpdate","emit","formAssociatedCallback","setFormValue","formResetCallback","removeAttribute","undefined","vClick","click","vFocus","focus","vBlur","blur","handleChange","setAttribute","handleOnFocus","el","handleOnBlur","slot","querySelector","isNil","getTextContent","recurse","length","states","clear","add","setValidity","valueMissing","render","hostStyle","labelCssClasses","h","Host","key","class","style","part","type","onBlur","onChange","onFocus","ref","input","role","color","title","span","onSlotchange"],"sources":["../../packages/beeq/src/components/switch/scss/bq-switch.scss?tag=bq-switch&encapsulation=shadow","../../packages/beeq/src/components/switch/bq-switch.tsx"],"sourcesContent":["/* -------------------------------------------------------------------------- */\n/*                                Switch styles                               */\n/* -------------------------------------------------------------------------- */\n\n@import './bq-switch.variables';\n\n:host {\n  @apply inline-block;\n}\n\n:host(.full-width) {\n  @apply is-full;\n}\n\n.bq-switch {\n  @apply flex cursor-pointer select-none items-center rounded-s transition-colors duration-300 p-b-2 p-i-2;\n\n  justify-content: var(--bq-switch--justify-content);\n\n  // Display background on hover (if enabled)\n  &.has-background:not(.is-disabled):hover {\n    @apply bg-hover-ui-primary;\n  }\n\n  &.is-disabled {\n    @apply cursor-not-allowed opacity-60;\n  }\n}\n\n.bq-switch--input:not(:disabled):focus,\n.bq-switch--input:not(:disabled):focus-visible {\n  ~ .bq-switch--control {\n    @apply focus;\n  }\n}\n\n.bq-switch--control__dot {\n  @apply absolute start-xs2 rounded-full bg-ui-primary bs-[--bq-switch--dot-size] is-[--bq-switch--dot-size];\n  @apply group-[&.is-checked]:start-[calc(100%_-_var(--bq-switch--dot-size)_-_var(--bq-spacing-xs2))] group-[&.is-checked]:bg-[--bq-icon--alt];\n  @apply transition-all duration-300;\n}\n\n.bq-switch--control__icon {\n  --bq-icon--size: var(--bq-switch--dot-size) !important;\n\n  &::part(base) {\n    @apply flex;\n  }\n}\n","import {\n  AttachInternals,\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Method,\n  Prop,\n  State,\n  Watch,\n} from '@stencil/core';\n\nimport { TSwitchInnerLabel, TSwitchJustifyContent } from './bq-switch.types';\nimport { getTextContent, isNil } from '../../shared/utils';\n\n/**\n * Toggle switches are digital on/off switches.\n * They should provide immediate results, giving users the freedom to control their preferences as needed.\n *\n * @example How to use it\n * ```html\n * <bq-switch inner-label=\"default\" justify-content=\"start\" name=\"bq-switch\" value=\"Switch value\">\n *   Toggle me!\n * </bq-switch>\n * ```\n *\n * @documentation https://www.beeq.design/3d466e231/p/49d9c9-switch\n * @status stable\n *\n * @dependency bq-icon\n *\n * @attr {boolean} background-on-hover - If `true`, a background will be displayed on hover\n * @attr {boolean} checked - It indicates whether if the switch is `ON` by default (when the page loads)\n * @attr {boolean} disabled - If `true`, the switch control will be disabled and no interaction will be allowed\n * @attr {string} form-validation-message - The native form validation message\n * @attr {boolean} full-width - If `true`, the component will take the full width space available on the parent container\n * @attr {\"default\" | \"icon\"} inner-label - It indicates how to to display the on/off marks inside the control, with icons or none (default)\n * @attr {\"start\" | \"end\" | \"center\" | \"space-between\" | \"space-around\" | \"space-evenly\"} justify-content - It defines how to distribute the space between and around the control and the label text\n * @attr {string} name - Name of the form control. Submitted with the form as part of a name/value pair\n * @attr {boolean} required - If `true`, it will indicate that the user must switch `ON` the element before the owning form can be submitted\n * @attr {boolean} reverse-order - If `true`, the order of the control and the label text will be changed\n * @attr {string} value - The input control's value, submitted as a name/value pair with form data\n *\n * @event bqChange - Handler to be called when the switch state changes\n * @event bqFocus - Handler to be called when the switch gets focus\n * @event bqBlur - Handler to be called when the switch loses focus\n *\n * @slot - The switch label text\n *\n * @part base - HTML `<label>` root container\n * @part control - HTML `<div>` element for the custom control\n * @part dot - HTML `<div>` element that acts as changing dot\n * @part icon-off - HTMLBqIcon `<pk-icon>` element used as the `OFF` mark inner label\n * @part icon-on - HTMLBqIcon `<pk-icon>` element used as the `ON` mark inner label\n * @part label - HTML `<span>` element that holds the label text\n *\n * @cssprop --bq-switch--height - Switch height\n * @cssprop --bq-switch--justify-content - Switch justify content\n * @cssprop --bq-switch--width - Switch width\n * @cssprop --bq-switch--dot-size - Switch dot size\n */\n@Component({\n  tag: 'bq-switch',\n  styleUrl: './scss/bq-switch.scss',\n  formAssociated: true,\n  shadow: {\n    delegatesFocus: true,\n  },\n})\nexport class BqSwitch {\n  // Own Properties\n  // ====================\n\n  private labelElem: HTMLSpanElement;\n  private inputElem: HTMLInputElement;\n  private prevCheckedValue: boolean;\n\n  // Reference to host HTML element\n  // ===================================\n\n  @AttachInternals() internals!: ElementInternals;\n  @Element() el!: HTMLBqSwitchElement;\n\n  // State() variables\n  // Inlined decorator, alphabetical order\n  // =======================================\n\n  @State() hasLabel = false;\n\n  // Public Property API\n  // ========================\n\n  /** If true, a background will be displayed on hover */\n  @Prop({ reflect: true }) backgroundOnHover?: boolean = false;\n\n  /** It indicates whether if the switch is `ON` by default (when the page loads) */\n  @Prop({ reflect: true, mutable: true }) checked?: boolean = false;\n\n  /** If true, the switch control will be disabled and no interaction will be allowed */\n  @Prop({ reflect: true }) disabled?: boolean = false;\n\n  /** The native form validation message */\n  @Prop({ mutable: true }) formValidationMessage?: string;\n\n  /** If true, the component will take the full width space available on the parent container */\n  @Prop({ reflect: true }) fullWidth?: boolean = false;\n\n  /** It indicates how to to display the on/off marks inside the control, with icons or none (default)  */\n  @Prop({ reflect: true }) innerLabel?: TSwitchInnerLabel = 'default';\n\n  /**\n   * It defines how to distribute the space between and around the control and the label text\n   * (https://developer.mozilla.org/en-US/docs/Web/CSS/justify-content)\n   */\n  @Prop({ reflect: true }) justifyContent?: TSwitchJustifyContent = 'start';\n\n  /** Name of the form control. Submitted with the form as part of a name/value pair */\n  @Prop({ reflect: true }) name!: string;\n\n  /** If `true`, it will indicate that the user must switch `ON` the element before the owning form can be submitted */\n  @Prop({ reflect: true }) required?: boolean = false;\n\n  /** If true, the order of the control and the label text will be changed  */\n  @Prop({ reflect: true }) reverseOrder?: boolean = false;\n\n  /** The input control's value, submitted as a name/value pair with form data. */\n  @Prop({ reflect: true }) value?: string;\n\n  // Prop lifecycle events\n  // =======================\n\n  @Watch('required')\n  handleRequiredChange() {\n    this.updateFormValidity();\n  }\n\n  // Events section\n  // Requires JSDocs for public API documentation\n  // ==============================================\n\n  /** Handler to be called when the switch state changes */\n  @Event() bqChange: EventEmitter<{ checked: boolean }>;\n\n  /** Handler to be called when the switch gets focus */\n  @Event() bqFocus: EventEmitter<HTMLBqSwitchElement>;\n\n  /** Handler to be called when the switch loses focus */\n  @Event() bqBlur: EventEmitter<HTMLBqSwitchElement>;\n\n  // Component lifecycle events\n  // Ordered by their natural call order\n  // =====================================\n\n  componentWillLoad() {\n    this.prevCheckedValue = this.checked;\n  }\n\n  componentDidLoad() {\n    this.handleSlotChange();\n  }\n\n  componentDidUpdate() {\n    /**\n     * We need to trigger the `bqChange` immediately after the first update happens\n     * so the checked attribute get applied, otherwise, a delay will happen\n     * between the event emits and when the checked attribute value gets reflected in the element host.\n     */\n    if (this.checked !== this.prevCheckedValue) {\n      this.bqChange.emit({ checked: this.checked });\n      this.prevCheckedValue = this.checked;\n    }\n  }\n\n  formAssociatedCallback() {\n    this.setFormValue(this.checked);\n    this.updateFormValidity();\n  }\n\n  formResetCallback() {\n    // Reset the form value and validity state\n    this.checked = false;\n    this.inputElem.removeAttribute('checked');\n    this.internals?.setFormValue(undefined);\n    this.updateFormValidity();\n  }\n\n  // Listeners\n  // ==============\n\n  // Public methods API\n  // These methods are exposed on the host element.\n  // Always use two lines.\n  // Public Methods must be async.\n  // Requires JSDocs for public API documentation.\n  // ===============================================\n\n  /**\n   * Simulate a click event on the native `<input>` HTML element used under the hood.\n   * Use this method instead of the global `element.click()`.\n   */\n  @Method()\n  async vClick() {\n    this.inputElem?.click();\n  }\n\n  /**\n   * Sets focus on the native `<input>` HTML element used under the hood.\n   * Use this method instead of the global `element.focus()`.\n   */\n  @Method()\n  async vFocus() {\n    this.inputElem?.focus();\n  }\n\n  /**\n   * Remove focus from the native `<input>` HTML element used under the hood.\n   * Use this method instead of the global `element.blur()`.\n   */\n  @Method()\n  async vBlur() {\n    this.inputElem?.blur();\n  }\n\n  // Local methods\n  // Internal business logic.\n  // These methods cannot be called from the host element.\n  // =======================================================\n\n  private handleChange = () => {\n    this.checked = !this.checked;\n    this.inputElem.setAttribute('checked', `${this.checked}`);\n    this.setFormValue(this.checked);\n    this.updateFormValidity();\n  };\n\n  private handleOnFocus = () => {\n    this.bqFocus.emit(this.el);\n  };\n\n  private handleOnBlur = () => {\n    this.bqBlur.emit(this.el);\n  };\n\n  private handleSlotChange = () => {\n    const slot = this.labelElem?.querySelector('slot') ?? null;\n    if (isNil(slot)) return;\n\n    this.hasLabel = !!getTextContent(slot, { recurse: true }).length;\n  };\n\n  private setFormValue = (checked: boolean) => {\n    const value = checked ? 'on' : undefined;\n    // Set form value based on the checked state\n    // Here we also pass the state of the component (2nd argument) as the state of the form control\n    // Details: https://developer.mozilla.org/en-US/docs/Web/API/ElementInternals/setFormValue\n    this.internals?.setFormValue(value, `${this.checked}`);\n  };\n\n  private updateFormValidity = () => {\n    const { formValidationMessage, internals, required, checked, inputElem } = this;\n    // Clear the validity state\n    internals?.states.clear();\n\n    if (!(required && !checked)) {\n      // If the switch component is not required or is checked, set the validity state to valid\n      internals?.states.add('valid');\n      internals?.setValidity({});\n      return;\n    }\n\n    // Set validity state based on the required property and checked state\n    internals?.states.add('invalid');\n    internals?.setValidity({ valueMissing: true }, formValidationMessage, inputElem);\n  };\n\n  // render() function\n  // Always the last one in the class.\n  // ===================================\n\n  render() {\n    const hostStyle = {\n      ...(this.justifyContent && { '--bq-switch--justify-content': this.justifyContent }),\n    };\n\n    const labelCssClasses = {\n      'has-background': this.backgroundOnHover,\n      'is-checked': this.checked,\n      'is-disabled': this.disabled,\n      'flex-row-reverse': this.reverseOrder,\n    };\n\n    return (\n      <Host class={{ 'full-width': this.fullWidth }} style={hostStyle}>\n        <label class={{ 'bq-switch group': true, ...labelCssClasses }} part=\"base\">\n          {/* Hidden native HTML input */}\n          <input\n            class=\"bq-switch--input peer sr-only !bs-[--bq-switch--dot-size] !is-[--bq-switch--width] peer-checked:invisible\"\n            type=\"checkbox\"\n            checked={this.checked}\n            disabled={this.disabled}\n            required={this.required}\n            name={!isNil(this.name) ? this.name : undefined}\n            aria-label={this.name}\n            aria-checked={this.checked ? 'true' : 'false'}\n            aria-disabled={this.disabled ? 'true' : 'false'}\n            onBlur={this.handleOnBlur}\n            onChange={this.handleChange}\n            onFocus={this.handleOnFocus}\n            ref={(input) => (this.inputElem = input)}\n            role=\"switch\"\n            value={this.value}\n          />\n          {/* Control */}\n          <div\n            class=\"bq-switch--control relative box-border flex justify-between rounded-full bg-ui-tertiary transition duration-300 bs-[--bq-switch--height] is-[--bq-switch--width] p-b-xs2 p-i-xs2 group-[&.is-checked]:bg-ui-brand\"\n            part=\"control\"\n          >\n            {this.innerLabel === 'icon' && (\n              <bq-icon\n                class=\"bq-switch--control__icon on\"\n                name=\"check\"\n                color=\"icon--alt\"\n                role=\"img\"\n                title=\"On\"\n                part=\"icon-on\"\n              />\n            )}\n            {this.innerLabel === 'icon' && (\n              <bq-icon\n                class=\"bq-switch--control__icon off\"\n                name=\"x\"\n                color=\"icon--inverse\"\n                role=\"img\"\n                title=\"Off\"\n                part=\"icon-off\"\n              />\n            )}\n            {/* Dot */}\n            <div class=\"bq-switch--control__dot\" part=\"dot\" />\n          </div>\n          {/* Label */}\n          <span\n            class={{\n              'bq-switch--label text-m font-medium leading-regular text-primary transition-colors duration-300': true,\n              'ms-s': this.hasLabel && !this.reverseOrder,\n              'me-s': this.hasLabel && this.reverseOrder,\n            }}\n            ref={(span) => (this.labelElem = span)}\n            part=\"label\"\n          >\n            <slot onSlotchange={this.handleSlotChange} />\n          </span>\n        </label>\n      </Host>\n    );\n  }\n}\n"],"mappings":";;;;wIAAA,MAAMA,EAAc,izhCACpB,MAAAC,EAAeD,E,MCsEFE,EAAQ,M,6RAIXC,UACAC,UACAC,iBAKWC,U,wBAOVC,SAAW,MAMKC,kBAA8B,MAGfC,QAAoB,MAGnCC,SAAqB,MAGrBC,sBAGAC,UAAsB,MAGtBC,WAAiC,UAMjCC,eAAyC,QAGzCC,KAGAC,SAAqB,MAGrBC,aAAyB,MAGzBC,MAMzB,oBAAAC,GACEC,KAAKC,oB,CAQEC,SAGAC,QAGAC,OAMT,iBAAAC,GACEL,KAAKf,iBAAmBe,KAAKX,O,CAG/B,gBAAAiB,GACEN,KAAKO,kB,CAGP,kBAAAC,GAME,GAAIR,KAAKX,UAAYW,KAAKf,iBAAkB,CAC1Ce,KAAKE,SAASO,KAAK,CAAEpB,QAASW,KAAKX,UACnCW,KAAKf,iBAAmBe,KAAKX,O,EAIjC,sBAAAqB,GACEV,KAAKW,aAAaX,KAAKX,SACvBW,KAAKC,oB,CAGP,iBAAAW,GAEEZ,KAAKX,QAAU,MACfW,KAAKhB,UAAU6B,gBAAgB,WAC/Bb,KAAKd,WAAWyB,aAAaG,WAC7Bd,KAAKC,oB,CAkBP,YAAMc,GACJf,KAAKhB,WAAWgC,O,CAQlB,YAAMC,GACJjB,KAAKhB,WAAWkC,O,CAQlB,WAAMC,GACJnB,KAAKhB,WAAWoC,M,CAQVC,aAAe,KACrBrB,KAAKX,SAAWW,KAAKX,QACrBW,KAAKhB,UAAUsC,aAAa,UAAW,GAAGtB,KAAKX,WAC/CW,KAAKW,aAAaX,KAAKX,SACvBW,KAAKC,oBAAoB,EAGnBsB,cAAgB,KACtBvB,KAAKG,QAAQM,KAAKT,KAAKwB,GAAG,EAGpBC,aAAe,KACrBzB,KAAKI,OAAOK,KAAKT,KAAKwB,GAAG,EAGnBjB,iBAAmB,KACzB,MAAMmB,EAAO1B,KAAKjB,WAAW4C,cAAc,SAAW,KACtD,GAAIC,EAAMF,GAAO,OAEjB1B,KAAKb,WAAa0C,EAAeH,EAAM,CAAEI,QAAS,OAAQC,MAAM,EAG1DpB,aAAgBtB,IACtB,MAAMS,EAAQT,EAAU,KAAOyB,UAI/Bd,KAAKd,WAAWyB,aAAab,EAAO,GAAGE,KAAKX,UAAU,EAGhDY,mBAAqB,KAC3B,MAAMV,sBAAEA,EAAqBL,UAAEA,EAASU,SAAEA,EAAQP,QAAEA,EAAOL,UAAEA,GAAcgB,KAE3Ed,GAAW8C,OAAOC,QAElB,KAAMrC,IAAaP,GAAU,CAE3BH,GAAW8C,OAAOE,IAAI,SACtBhD,GAAWiD,YAAY,IACvB,M,CAIFjD,GAAW8C,OAAOE,IAAI,WACtBhD,GAAWiD,YAAY,CAAEC,aAAc,MAAQ7C,EAAuBP,EAAU,EAOlF,MAAAqD,GACE,MAAMC,EAAY,IACZtC,KAAKN,gBAAkB,CAAE,+BAAgCM,KAAKN,iBAGpE,MAAM6C,EAAkB,CACtB,iBAAkBvC,KAAKZ,kBACvB,aAAcY,KAAKX,QACnB,cAAeW,KAAKV,SACpB,mBAAoBU,KAAKH,cAG3B,OACE2C,EAACC,EAAI,CAAAC,IAAA,2CAACC,MAAO,CAAE,aAAc3C,KAAKR,WAAaoD,MAAON,GACpDE,EAAA,SAAAE,IAAA,2CAAOC,MAAO,CAAE,kBAAmB,QAASJ,GAAmBM,KAAK,QAElEL,EAAA,SAAAE,IAAA,2CACEC,MAAM,4GACNG,KAAK,WACLzD,QAASW,KAAKX,QACdC,SAAUU,KAAKV,SACfM,SAAUI,KAAKJ,SACfD,MAAOiC,EAAM5B,KAAKL,MAAQK,KAAKL,KAAOmB,UAAS,aACnCd,KAAKL,KAAI,eACPK,KAAKX,QAAU,OAAS,QAAO,gBAC9BW,KAAKV,SAAW,OAAS,QACxCyD,OAAQ/C,KAAKyB,aACbuB,SAAUhD,KAAKqB,aACf4B,QAASjD,KAAKuB,cACd2B,IAAMC,GAAWnD,KAAKhB,UAAYmE,EAClCC,KAAK,SACLtD,MAAOE,KAAKF,QAGd0C,EAAA,OAAAE,IAAA,2CACEC,MAAM,oNACNE,KAAK,WAEJ7C,KAAKP,aAAe,QACnB+C,EAAA,WAAAE,IAAA,2CACEC,MAAM,8BACNhD,KAAK,QACL0D,MAAM,YACND,KAAK,MACLE,MAAM,KACNT,KAAK,YAGR7C,KAAKP,aAAe,QACnB+C,EAAA,WAAAE,IAAA,2CACEC,MAAM,+BACNhD,KAAK,IACL0D,MAAM,gBACND,KAAK,MACLE,MAAM,MACNT,KAAK,aAITL,EAAA,OAAAE,IAAA,2CAAKC,MAAM,0BAA0BE,KAAK,SAG5CL,EAAA,QAAAE,IAAA,2CACEC,MAAO,CACL,kGAAmG,KACnG,OAAQ3C,KAAKb,WAAaa,KAAKH,aAC/B,OAAQG,KAAKb,UAAYa,KAAKH,cAEhCqD,IAAMK,GAAUvD,KAAKjB,UAAYwE,EACjCV,KAAK,SAELL,EAAA,QAAAE,IAAA,2CAAMc,aAAcxD,KAAKO,qB","ignoreList":[]}