{"version":3,"file":"setProperties.js","sourceRoot":"","sources":["../../../../../../src/shared/test-utils/setProperties.ts"],"names":[],"mappings":"AAQA;;;;;;GAMG;AACH,MAAM,CAAC,MAAM,aAAa,GAAG,KAAK,EAChC,IAAa,EACb,OAAU,EACV,UAA6C,EAC7C,EAAE;IACF,MAAM,IAAI,CAAC,KAAK,CACd,OAAO,EACP,CAAC,UAAU,EAAE,UAAU,EAAE,EAAE;QACzB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;IACpF,CAAC,EACD,UAAU,CACX,CAAC;IAEF,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;IAE5B,OAAO,IAAI,CAAC,KAAK,CACf,OAAO,EACP,CAAC,UAAU,EAAE,UAAU,EAAE,EAAE;QACzB,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC5E,OAAO,KAAK,CAAC;IACf,CAAC,EACD,UAAU,CACX,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import type { E2EPage } from '@stencil/core/testing';\n\nexport type BqHTMLTagNameMap = keyof {\n  [TAG in keyof HTMLElementTagNameMap as TAG extends `bq-${string}` ? TAG : never]: TAG extends `bq-${string}`\n    ? TAG\n    : never;\n};\n\n/**\n * Enhances page to set and retrieve properties based on attributes parameter. It typed against bq web components\n * @param {E2EPage} page - stencil instance of puppeteer page\n * @param {String} element - element selector\n * @param {Object} attributes - attributes that will be set on element instance\n * @returns {Object} attributes that were set on element instance\n */\nexport const setProperties = async <T extends keyof HTMLElementTagNameMap = BqHTMLTagNameMap>(\n  page: E2EPage,\n  element: T,\n  attributes: Partial<HTMLElementTagNameMap[T]>,\n) => {\n  await page.$eval(\n    element,\n    (elementRef, attributes) => {\n      Object.entries(attributes).forEach(([attr, value]) => (elementRef[attr] = value));\n    },\n    attributes,\n  );\n\n  await page.waitForChanges();\n\n  return page.$eval(\n    element,\n    (elementRef, attributes) => {\n      const attrs = {};\n      Object.keys(attributes).forEach((attr) => (attrs[attr] = elementRef[attr]));\n      return attrs;\n    },\n    attributes,\n  );\n};\n"]}